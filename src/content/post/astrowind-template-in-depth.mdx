---
publishDate: 2023-07-17T00:00:00Z
title: AstroWind template in depth
excerpt: While easy to get started, Astrowind is quite complex internally.  This page provides documentation on some of the more intricate parts.
image: https://images.unsplash.com/photo-1534307671554-9a6d81f4d629?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1651&q=80
category: Documentation
tags:
  - astro
  - tailwind css
  - front-end
metadata:
  canonical: https://astrowind.vercel.app/astrowind-template-in-depth
---

import DListItem from '~/components/ui/DListItem.astro';
import ToggleTheme from '~/components/common/ToggleTheme.astro';

## ภาพรวม

การทำความเข้าใจโครงสร้างภายในของ _AstroWind_ อาจดูยุ่งยาก โดยเฉพาะจุดต่าง ๆ ที่ใช้งาน  
หน้านี้จะอธิบายและชี้แจงเทคนิคบางอย่างที่พบใน _AstroWind_ ใช้เป็นแนวทางในการปรับแต่งเพิ่มเติม หรือเป็นคู่มือสำหรับเทคนิคที่คุณสามารถนำไปใช้ในโปรเจกต์ของคุณเอง

## การตกแต่ง (Styling)

ตามชื่อ _AstroWind_ ใช้ _TailWind_ ในการตกแต่ง นอกจากนี้ยังมีการกำหนดค่าตกแต่งระดับต่ำที่กำหนดเอง ซึ่งผสานเข้ากับ _TailWind_ ได้อย่างลงตัว และช่วยให้เกิดความสม่ำเสมอสำหรับการตกแต่งระดับสูง รวมถึงรองรับโหมดมืด

กลไกการตกแต่งประกอบด้วยไฟล์ต่อไปนี้ (ทุก path จะขึ้นต้นด้วย `/src/`):

- `assets/styles/tailwind.css`  
  ไฟล์นี้เป็นการขยายจาก _base.css_ ของ TailWind โดยจะกำหนดสไตล์ของคอมโพเนนต์ระดับสูง รวมถึงการตกแต่ง element ที่เลือกโดย attribute selector โดยเฉพาะที่เลือกด้วย 'data' attribute

- `components/CustomStyles.astro`  
  กำหนดสีและฟอนต์ที่กำหนดเอง สำหรับให้มีผลในไฟล์ 'base.css' ต้องโหลดในส่วน header ของ html

- `layouts/Layout.astro`  
  Layout นี้ใช้สำหรับทุกหน้าที่ถูก render โดย _AstroWind_ เนื้อหาของ _tailwind.css_ และคอมโพเนนต์ _CustomStyles.astro_ จะถูก inject เข้าไปใน html header

### โหมดมืด (Dark Mode)

โหมดมืดจะถูกเปิดโดยไอคอนรูปพระอาทิตย์ใน header ของหน้า  
ถูกกำหนดในไฟล์ _components/common/ToggleTheme.astro_ แต่ event และ action จะอยู่ใน _components/common/BasicScripts.astro_

เป็น event ฝั่ง client ซึ่ง _BasicScripts.astro_ ยังมีฟังก์ชันฝั่ง client อื่น ๆ ด้วย

## การใช้งาน Slot ขั้นสูง

_slot_ เป็นส่วนหนึ่งของการสร้างคอมโพเนนต์ ซึ่งเป็นแนวคิดที่พบในหลาย framework รวมถึง _Astrojs_  
ตัวอย่างการกำหนด slot ในคอมโพเนนต์จะเป็นแบบนี้

```astro
---
// (file: MyComponent.astro)
const { title } = Astro.props;
export interface Props {
  title: string;
}
---

<div>
  <h2>{title}</h2>
  <slot />
  <!-- slot contents injected here -->
  <div></div>
</div>
```

และตัวอย่างการใช้งาน slot ในไฟล์ markdown ก็สามารถทำได้เช่นกัน

```mdx
import MyComponent from '../../components/MyComponent';

# Using the above component in a .mdx file (that can take components)

{' '}

<MyComponent title="This is a slot implementor">### Here is some markdown content - With a bullet item.</MyComponent>
```

ข้อดีของวิธีนี้คือ คุณสามารถเข้าถึงเนื้อหา slot และปรับแต่งก่อนนำไปแสดงผลใน html ได้  
จึงช่วยให้การออกแบบคอมโพเนนต์มีความยืดหยุ่นมากขึ้น

### ขั้นตอนเพิ่มเติม

ใน _AstroWind_ จะใช้เทคนิคนี้ในไฟล์ _pages/index.astro_  
ไฟล์ index จะ import คอมโพเนนต์หลายตัว ซึ่งแต่ละตัวเปรียบเสมือน panel ในหน้า index  
บางคอมโพเนนต์จะใช้โครงสร้างที่มีการส่ง slot แบบกำหนดชื่อ เช่น _CallToAction_ จะมี slot "title" และ "subtitle"  
เนื้อหาของ slot จะถูกกำหนดใน child element ด้วย attribute `slot="..."`  
และในคอมโพเนนต์หลักจะ render slot นั้นด้วย await

ข้อสังเกตคือ prop และ slot สามารถใช้งานแทนกันได้ หาก subtitle เป็น string ก็จะรับค่าโดยตรง  
แต่ถ้า render slot ต้องใช้ await เพื่อดึงเนื้อหา
